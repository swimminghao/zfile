import{O as ee,b0 as G,v as N,s as E,aZ as De,j as Ke,N as A,a4 as D,b1 as X,b2 as j,b3 as O,b4 as He,t as ze,a as le,R as Be,a9 as te,ab as We,a7 as Ge,aa as Xe,b as je,d as ne}from"./base.b65bdcd1.js";import{o as $e,aa as Ue,D as Ve,P as Pe,w as Ze,a0 as qe,d as Je,j as Qe,i as se,a9 as ke}from"./index.965ac11d.js";import{a as Fe}from"./scroll.06c8f1a5.js";var Y=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Y||{});const Xt=(e,t,n)=>{let o={offsetX:0,offsetY:0};const s=c=>{const u=c.clientX,f=c.clientY,{offsetX:l,offsetY:p}=o,_=e.value.getBoundingClientRect(),P=_.left,Z=_.top,ye=_.width,xe=_.height,Ce=document.documentElement.clientWidth,Le=document.documentElement.clientHeight,Ae=-P+l,Oe=-Z+p,Ye=Ce-P-ye+l,Ne=Le-Z-xe+p,q=Q=>{const k=Math.min(Math.max(l+Q.clientX-u,Ae),Ye),F=Math.min(Math.max(p+Q.clientY-f,Oe),Ne);o={offsetX:k,offsetY:F},e.value.style.transform=`translate(${ee(k)}, ${ee(F)})`},J=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",J)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",s)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",s)};$e(()=>{Ue(()=>{n.value?r():i()})}),Ve(()=>{i()})};let et;function tt(e,t=et){t&&t.active&&t.effects.push(e)}const $=e=>{const t=new Set(e);return t.w=0,t.n=0,t},de=e=>(e.w&w)>0,he=e=>(e.n&w)>0,nt=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=w},st=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const s=t[o];de(s)&&!he(s)?s.delete(e):t[n++]=s,s.w&=~w,s.n&=~w}t.length=n}},H=new WeakMap;let M=0,w=1;const z=30;let d;const S=Symbol(""),B=Symbol("");class ot{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,tt(this,o)}run(){if(!this.active)return this.fn();let t=d,n=v;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=d,d=this,v=!0,w=1<<++M,M<=z?nt(this):oe(this),this.fn()}finally{M<=z&&st(this),w=1<<--M,d=this.parent,v=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){d===this?this.deferStop=!0:this.active&&(oe(this),this.onStop&&this.onStop(),this.active=!1)}}function oe(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let v=!0;const pe=[];function rt(){pe.push(v),v=!1}function it(){const e=pe.pop();v=e===void 0?!0:e}function h(e,t,n){if(v&&d){let o=H.get(e);o||H.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=$()),_e(s)}}function _e(e,t){let n=!1;M<=z?he(e)||(e.n|=w,n=!de(e)):n=!e.has(d),n&&(e.add(d),d.deps.push(e))}function b(e,t,n,o,s,r){const i=H.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&E(e))i.forEach((u,f)=>{(f==="length"||f>=o)&&c.push(u)});else switch(n!==void 0&&c.push(i.get(n)),t){case"add":E(e)?j(n)&&c.push(i.get("length")):(c.push(i.get(S)),O(e)&&c.push(i.get(B)));break;case"delete":E(e)||(c.push(i.get(S)),O(e)&&c.push(i.get(B)));break;case"set":O(e)&&c.push(i.get(S));break}if(c.length===1)c[0]&&W(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);W($(u))}}function W(e,t){const n=E(e)?e:[...e];for(const o of n)o.computed&&re(o);for(const o of n)o.computed||re(o)}function re(e,t){(e!==d||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ct=He("__proto__,__v_isRef,__isVue"),me=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(X)),at=Ee(),ut=Ee(!0),ie=ft();function ft(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=a(this);for(let r=0,i=this.length;r<i;r++)h(o,"get",r+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(a)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){rt();const o=a(this)[t].apply(this,n);return it(),o}}),e}function Ee(e=!1,t=!1){return function(o,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?It:be:t?Rt:we).get(o))return o;const i=E(o);if(!e&&i&&D(ie,s))return Reflect.get(ie,s,r);const c=Reflect.get(o,s,r);return(X(s)?me.has(s):ct(s))||(e||h(o,"get",s),t)?c:T(c)?i&&j(s)?c:c.value:N(c)?e?Te(c):Se(c):c}}const lt=dt();function dt(e=!1){return function(n,o,s,r){let i=n[o];if(g(i)&&T(i)&&!T(s))return!1;if(!e&&!g(s)&&(Ct(s)||(s=a(s),i=a(i)),!E(n)&&T(i)&&!T(s)))return i.value=s,!0;const c=E(n)&&j(o)?Number(o)<n.length:D(n,o),u=Reflect.set(n,o,s,r);return n===a(r)&&(c?G(s,i)&&b(n,"set",o,s):b(n,"add",o,s)),u}}function ht(e,t){const n=D(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&b(e,"delete",t,void 0),o}function pt(e,t){const n=Reflect.has(e,t);return(!X(t)||!me.has(t))&&h(e,"has",t),n}function _t(e){return h(e,"iterate",E(e)?"length":S),Reflect.ownKeys(e)}const mt={get:at,set:lt,deleteProperty:ht,has:pt,ownKeys:_t},Et={get:ut,set(e,t){return!0},deleteProperty(e,t){return!0}},U=e=>e,K=e=>Reflect.getPrototypeOf(e);function I(e,t,n=!1,o=!1){e=e.__v_raw;const s=a(e),r=a(t);n||(t!==r&&h(s,"get",t),h(s,"get",r));const{has:i}=K(s),c=o?U:n?V:R;if(i.call(s,t))return c(e.get(t));if(i.call(s,r))return c(e.get(r));e!==s&&e.get(t)}function y(e,t=!1){const n=this.__v_raw,o=a(n),s=a(e);return t||(e!==s&&h(o,"has",e),h(o,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function x(e,t=!1){return e=e.__v_raw,!t&&h(a(e),"iterate",S),Reflect.get(e,"size",e)}function ce(e){e=a(e);const t=a(this);return K(t).has.call(t,e)||(t.add(e),b(t,"add",e,e)),this}function ae(e,t){t=a(t);const n=a(this),{has:o,get:s}=K(n);let r=o.call(n,e);r||(e=a(e),r=o.call(n,e));const i=s.call(n,e);return n.set(e,t),r?G(t,i)&&b(n,"set",e,t):b(n,"add",e,t),this}function ue(e){const t=a(this),{has:n,get:o}=K(t);let s=n.call(t,e);s||(e=a(e),s=n.call(t,e)),o&&o.call(t,e);const r=t.delete(e);return s&&b(t,"delete",e,void 0),r}function fe(){const e=a(this),t=e.size!==0,n=e.clear();return t&&b(e,"clear",void 0,void 0),n}function C(e,t){return function(o,s){const r=this,i=r.__v_raw,c=a(i),u=t?U:e?V:R;return!e&&h(c,"iterate",S),i.forEach((f,l)=>o.call(s,u(f),u(l),r))}}function L(e,t,n){return function(...o){const s=this.__v_raw,r=a(s),i=O(r),c=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,f=s[e](...o),l=n?U:t?V:R;return!t&&h(r,"iterate",u?B:S),{next(){const{value:p,done:_}=f.next();return _?{value:p,done:_}:{value:c?[l(p[0]),l(p[1])]:l(p),done:_}},[Symbol.iterator](){return this}}}}function m(e){return function(...t){return e==="delete"?!1:this}}function vt(){const e={get(r){return I(this,r)},get size(){return x(this)},has:y,add:ce,set:ae,delete:ue,clear:fe,forEach:C(!1,!1)},t={get(r){return I(this,r,!1,!0)},get size(){return x(this)},has:y,add:ce,set:ae,delete:ue,clear:fe,forEach:C(!1,!0)},n={get(r){return I(this,r,!0)},get size(){return x(this,!0)},has(r){return y.call(this,r,!0)},add:m("add"),set:m("set"),delete:m("delete"),clear:m("clear"),forEach:C(!0,!1)},o={get(r){return I(this,r,!0,!0)},get size(){return x(this,!0)},has(r){return y.call(this,r,!0)},add:m("add"),set:m("set"),delete:m("delete"),clear:m("clear"),forEach:C(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=L(r,!1,!1),n[r]=L(r,!0,!1),t[r]=L(r,!1,!0),o[r]=L(r,!0,!0)}),[e,n,t,o]}const[wt,bt,St,Tt]=vt();function ve(e,t){const n=t?e?Tt:St:e?bt:wt;return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(D(n,s)&&s in o?n:o,s,r)}const Mt={get:ve(!1,!1)},gt={get:ve(!0,!1)},we=new WeakMap,Rt=new WeakMap,be=new WeakMap,It=new WeakMap;function yt(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xt(e){return e.__v_skip||!Object.isExtensible(e)?0:yt(De(e))}function Se(e){return g(e)?e:Me(e,!1,mt,Mt,we)}function Te(e){return Me(e,!0,Et,gt,be)}function Me(e,t,n,o,s){if(!N(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const i=xt(e);if(i===0)return e;const c=new Proxy(e,i===2?o:n);return s.set(e,c),c}function ge(e){return g(e)?ge(e.__v_raw):!!(e&&e.__v_isReactive)}function g(e){return!!(e&&e.__v_isReadonly)}function Ct(e){return!!(e&&e.__v_isShallow)}function jt(e){return ge(e)||g(e)}function a(e){const t=e&&e.__v_raw;return t?a(t):e}const R=e=>N(e)?Se(e):e,V=e=>N(e)?Te(e):e;function Re(e){v&&d&&(e=a(e),_e(e.dep||(e.dep=$())))}function Ie(e,t){e=a(e),e.dep&&W(e.dep)}function T(e){return!!(e&&e.__v_isRef===!0)}function $t(e){return Lt(e,!1)}function Lt(e,t){return T(e)?e:new At(e,t)}class At{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:a(t),this._value=n?t:R(t)}get value(){return Re(this),this._value}set value(t){t=this.__v_isShallow?t:a(t),G(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:R(t),Ie(this))}}class Ot{constructor(t,n,o,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ot(t,()=>{this._dirty||(this._dirty=!0,Ie(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const t=a(this);return Re(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Yt(e,t,n=!1){let o,s;const r=Ke(e);return r?(o=e,s=A):(o=e.get,s=e.set),new Ot(o,s,r||!s,n)}const Ut=(e,t={})=>{Pe(e)||ze("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||le("popup"),o=Yt(()=>n.bm("parent","hidden"));if(!Be||te(document.body,o.value))return;let s=0,r=!1,i="0";const c=()=>{setTimeout(()=>{Xe(document==null?void 0:document.body,o.value),r&&document&&(document.body.style.width=i)},200)};Ze(e,u=>{if(!u){c();return}r=!te(document.body,o.value),r&&(i=document.body.style.width),s=Fe(n.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,l=We(document.body,"overflowY");s>0&&(f||l==="scroll")&&r&&(document.body.style.width=`calc(100% - ${s}px)`),Ge(document.body,o.value)}),qe(()=>c())},Nt=e=>{if(!e)return{onClick:A,onMousedown:A,onMouseup:A};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},Dt=je({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ne([String,Array,Object])},zIndex:{type:ne([String,Number])}}),Kt={click:e=>e instanceof MouseEvent},Ht="overlay";var zt=Je({name:"ElOverlay",props:Dt,emits:Kt,setup(e,{slots:t,emit:n}){const o=le(Ht),s=u=>{n("click",u)},{onClick:r,onMousedown:i,onMouseup:c}=Nt(e.customMaskEvent?void 0:s);return()=>e.mask?Qe("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:i,onMouseup:c},[se(t,"default")],Y.STYLE|Y.CLASS|Y.PROPS,["onClick","onMouseup","onMousedown"]):ke("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[se(t,"default")])}});const Vt=zt;export{Vt as E,ot as R,Nt as a,Ut as b,Ct as c,ge as d,jt as e,$t as f,T as i,rt as p,it as r,Xt as u};
