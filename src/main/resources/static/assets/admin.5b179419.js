var De=Object.defineProperty;var V=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var ae=(e,o,l)=>o in e?De(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,Z=(e,o)=>{for(var l in o||(o={}))le.call(o,l)&&ae(e,l,o[l]);if(V)for(var l of V(o))ne.call(o,l)&&ae(e,l,o[l]);return e};var T=(e,o)=>{var l={};for(var d in e)le.call(e,d)&&o.indexOf(d)<0&&(l[d]=e[d]);if(e!=null&&V)for(var d of V(e))o.indexOf(d)<0&&ne.call(e,d)&&(l[d]=e[d]);return l};import{a as L,f as P,m as g,au as re,r as C,o as U,aa as W,d as F,p as q,c as E,a3 as X,B as $,W as B,N as Le,J as Re,w as Ee,a6 as se,j as n,e as i,u,b as ie,O as w,t as Pe,k as Me,g as D,T as ze,F as Te}from"./index.965ac11d.js";import{be as Ae,bz as Fe,E as Oe}from"./base.b65bdcd1.js";/* empty css               */import{E as Be,a as Ke,b as He}from"./dropdown-item.f9529266.js";import"./popper.aedd2598.js";import"./scrollbar.117c6324.js";/* empty css             *//* empty css                */import{r as Ue}from"./badge.1ec88ea5.js";import{E as je}from"./link.fbecb10e.js";import{_ as Ye}from"./zfile-basic.8b129fdf.js";import{a as Ve}from"./zfile-horizontal.7507aff8.js";import{f as Ne,h as We,l as Je}from"./admin-setting.46e4ebbe.js";import{d as Ge}from"./login.d278bc9b.js";import{d as Ze}from"./dayjs.min.65a08ee1.js";import{E as Qe,o as y,m as qe,u as Q,e as pe,l as z,H as O,t as j,p as me,a as N,b as S,y as Xe,w as $e,h as et,v as tt,N as ue,_ as ve,O as ot,r as at}from"./use-outside-click.18deedcf.js";import{E as lt,e as nt}from"./request.2ccc188b.js";import{c as A}from"./common.df582fdd.js";import{E as rt}from"./index.2a66a81e.js";import"./dropdown.d1deefd6.js";import"./refs.45a892d9.js";import"./focus-trap.2030fc87.js";import"./directive.d58852f6.js";function st(e,o){return L(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12H12m-8.25 5.25h16.5"})])}const it={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ut=g("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696l236.288-236.352l45.248 45.248L508.8 704L192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),dt=[ut];function ct(e,o){return L(),P("svg",it,dt)}var pt={name:"ep-download",render:ct};const mt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},vt=g("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672L192.128 340.864a30.592 30.592 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.592 30.592 0 0 0-42.752 0z"},null,-1),ft=[vt];function gt(e,o){return L(),P("svg",mt,ft)}var bt={name:"ep-arrow-down",render:gt};const ht={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},_t=g("path",{fill:"currentColor",d:"M715.648 625.152L670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896c-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248l90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656c87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496l-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496l45.248 45.248l-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896c62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496l45.248 45.248zm0-362.048l45.248 45.248L398.848 670.4L353.6 625.152L625.152 353.6z"},null,-1),xt=[_t];function yt(e,o){return L(),P("svg",ht,xt)}var wt={name:"ep-link",render:yt};const kt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},It=g("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864S0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288c52.608 79.872 211.456 288 436.8 288c225.28 0 384.128-208.064 436.8-288c-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448a224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160s-71.744-160-160-160z"},null,-1),St=[It];function Ct(e,o){return L(),P("svg",kt,St)}var Dt={name:"ep-view",render:Ct};const Lt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Rt=g("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),Et=[Rt];function Pt(e,o){return L(),P("svg",Lt,Et)}var Mt={name:"ep-folder",render:Pt};const zt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Tt=g("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"},null,-1),At=[Tt];function Ft(e,o){return L(),P("svg",zt,At)}var Ot={name:"ep-setting",render:Ft},Bt="data:image/png;base64,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";function Kt(e,o){let{data:l}=re(Je),{data:d,loading:t}=re(We,{errorRetryCount:3});return{siteSetting:l,githubLatestInfo:d,githubLatestLoading:t,logDownload:()=>{const v=Qe.service({fullscreen:!0,lock:!0,text:"\u4E0B\u8F7D\u4E2D...",background:"rgba(0, 0, 0, 0.5)"});Ne().then(p=>{const{data:a,headers:_}=p,c=`ZFile \u8BCA\u65AD\u65E5\u5FD7 - ${Ze().format("YYYY-MM-DD HH:mm:ss")}.zip`,h=new Blob([a],{type:_["content-type"]});let r=document.createElement("a"),f=window.URL.createObjectURL(h);r.href=f,r.download=decodeURI(c),r.style.display="none",document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),window.URL.revokeObjectURL(f)}).catch(p=>{lt.error("\u4E0B\u8F7D\u65E5\u5FD7\u5931\u8D25.")}).finally(()=>{v.close()})},logout:()=>{Ge().then(()=>{e.push("/login")})},rebuildTitle:()=>{o.path.indexOf("/admin")!==-1&&(document.title=(o.meta.name||"ZFile")+" | \u540E\u53F0\u7BA1\u7406")}}}function Ht(e){throw new Error("Unexpected object: "+e)}var R=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(R||{});function Ut(e,o){let l=o.resolveItems();if(l.length<=0)return null;let d=o.resolveActiveIndex(),t=d!=null?d:-1,b=(()=>{switch(e.focus){case 0:return l.findIndex(s=>!o.resolveDisabled(s));case 1:{let s=l.slice().reverse().findIndex((m,v,p)=>t!==-1&&p.length-v-1>=t?!1:!o.resolveDisabled(m));return s===-1?s:l.length-1-s}case 2:return l.findIndex((s,m)=>m<=t?!1:!o.resolveDisabled(s));case 3:{let s=l.slice().reverse().findIndex(m=>!o.resolveDisabled(m));return s===-1?s:l.length-1-s}case 4:return l.findIndex(s=>o.resolveId(s)===e.id);case 5:return null;default:Ht(e)}})();return b===-1?d:b}function de(e,o){if(e)return e;let l=o!=null?o:"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function fe(e,o){let l=C(de(e.value.type,e.value.as));return U(()=>{l.value=de(e.value.type,e.value.as)}),W(()=>{var d;l.value||y(o)&&y(o)instanceof HTMLButtonElement&&!((d=y(o))!=null&&d.hasAttribute("type"))&&(l.value="button")}),l}function jt({container:e,accept:o,walk:l,enabled:d}){W(()=>{let t=e.value;if(!t||d!==void 0&&!d.value)return;let b=qe(e);if(!b)return;let s=Object.assign(v=>o(v),{acceptNode:o}),m=b.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,s,!1);for(;m.nextNode();)l(m.currentNode)})}function ce(e){return[e.screenX,e.screenY]}function Yt(){let e=C([-1,-1]);return{wasMoved(o){let l=ce(o);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(o){e.value=ce(o)}}}var Vt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Vt||{});let ge=Symbol("DisclosureContext");function ee(e){let o=$(ge,null);if(o===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ee),l}return o}let be=Symbol("DisclosurePanelContext");function Nt(){return $(be,null)}let Wt=F({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:l}){let d=C(e.defaultOpen?0:1),t=C(null),b=C(null),s={buttonId:C(null),panelId:C(null),disclosureState:d,panel:t,button:b,toggleDisclosure(){d.value=Q(d.value,{[0]:1,[1]:0})},closeDisclosure(){d.value!==1&&(d.value=1)},close(m){s.closeDisclosure();let v=(()=>m?m instanceof HTMLElement?m:m.value instanceof HTMLElement?y(m):y(s.button):y(s.button))();v==null||v.focus()}};return q(ge,s),pe(E(()=>Q(d.value,{[0]:z.Open,[1]:z.Closed}))),()=>{let a=e,{defaultOpen:m}=a,v=T(a,["defaultOpen"]),p={open:d.value===0,close:s.close};return O({theirProps:v,ourProps:{},slot:p,slots:o,attrs:l,name:"Disclosure"})}}}),M=F({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${j()}`}},setup(e,{attrs:o,slots:l,expose:d}){let t=ee("DisclosureButton");U(()=>{t.buttonId.value=e.id}),X(()=>{t.buttonId.value=null});let b=Nt(),s=E(()=>b===null?!1:b.value===t.panelId.value),m=C(null);d({el:m,$el:m}),s.value||W(()=>{t.button.value=m.value});let v=fe(E(()=>({as:e.as,type:o.type})),m);function p(){var c;e.disabled||(s.value?(t.toggleDisclosure(),(c=y(t.button))==null||c.focus()):t.toggleDisclosure())}function a(c){var h;if(!e.disabled)if(s.value)switch(c.key){case S.Space:case S.Enter:c.preventDefault(),c.stopPropagation(),t.toggleDisclosure(),(h=y(t.button))==null||h.focus();break}else switch(c.key){case S.Space:case S.Enter:c.preventDefault(),c.stopPropagation(),t.toggleDisclosure();break}}function _(c){switch(c.key){case S.Space:c.preventDefault();break}}return()=>{let c={open:t.disclosureState.value===0},x=e,{id:h}=x,r=T(x,["id"]),f=s.value?{ref:m,type:v.value,onClick:p,onKeydown:a}:{id:h,ref:m,type:v.value,"aria-expanded":e.disabled?void 0:t.disclosureState.value===0,"aria-controls":y(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:a,onKeyup:_};return O({ourProps:f,theirProps:r,slot:c,attrs:o,slots:l,name:"DisclosureButton"})}}}),Jt=F({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${j()}`}},setup(e,{attrs:o,slots:l,expose:d}){let t=ee("DisclosurePanel");U(()=>{t.panelId.value=e.id}),X(()=>{t.panelId.value=null}),d({el:t.panel,$el:t.panel}),q(be,t.panelId);let b=me(),s=E(()=>b!==null?(b.value&z.Open)===z.Open:t.disclosureState.value===0);return()=>{let m={open:t.disclosureState.value===0,close:t.close},_=e,{id:v}=_,p=T(_,["id"]),a={id:v,ref:t.panel};return O({ourProps:a,theirProps:p,slot:m,attrs:o,slots:l,features:N.RenderStrategy|N.Static,visible:s.value,name:"DisclosurePanel"})}}});var Gt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Gt||{}),Zt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Zt||{});function Qt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let he=Symbol("MenuContext");function J(e){let o=$(he,null);if(o===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,J),l}return o}let qt=F({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:o,attrs:l}){let d=C(1),t=C(null),b=C(null),s=C([]),m=C(""),v=C(null),p=C(1);function a(c=h=>h){let h=v.value!==null?s.value[v.value]:null,r=ot(c(s.value.slice()),x=>y(x.dataRef.domRef)),f=h?r.indexOf(h):null;return f===-1&&(f=null),{items:r,activeItemIndex:f}}let _={menuState:d,buttonRef:t,itemsRef:b,items:s,searchQuery:m,activeItemIndex:v,activationTrigger:p,closeMenu:()=>{d.value=1,v.value=null},openMenu:()=>d.value=0,goToItem(c,h,r){let f=a(),x=Ut(c===R.Specific?{focus:R.Specific,id:h}:{focus:c},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:I=>I.id,resolveDisabled:I=>I.dataRef.disabled});m.value="",v.value=x,p.value=r!=null?r:1,s.value=f.items},search(c){let h=m.value!==""?0:1;m.value+=c.toLowerCase();let r=(v.value!==null?s.value.slice(v.value+h).concat(s.value.slice(0,v.value+h)):s.value).find(x=>x.dataRef.textValue.startsWith(m.value)&&!x.dataRef.disabled),f=r?s.value.indexOf(r):-1;f===-1||f===v.value||(v.value=f,p.value=1)},clearSearch(){m.value=""},registerItem(c,h){let r=a(f=>[...f,{id:c,dataRef:h}]);s.value=r.items,v.value=r.activeItemIndex,p.value=1},unregisterItem(c){let h=a(r=>{let f=r.findIndex(x=>x.id===c);return f!==-1&&r.splice(f,1),r});s.value=h.items,v.value=h.activeItemIndex,p.value=1}};return Xe([t,b],(c,h)=>{var r;_.closeMenu(),$e(h,et.Loose)||(c.preventDefault(),(r=y(t))==null||r.focus())},E(()=>d.value===0)),q(he,_),pe(E(()=>Q(d.value,{[0]:z.Open,[1]:z.Closed}))),()=>{let c={open:d.value===0,close:_.closeMenu};return O({ourProps:{},theirProps:e,slot:c,slots:o,attrs:l,name:"Menu"})}}}),Xt=F({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${j()}`}},setup(e,{attrs:o,slots:l,expose:d}){let t=J("MenuButton");d({el:t.buttonRef,$el:t.buttonRef});function b(p){switch(p.key){case S.Space:case S.Enter:case S.ArrowDown:p.preventDefault(),p.stopPropagation(),t.openMenu(),B(()=>{var a;(a=y(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(R.First)});break;case S.ArrowUp:p.preventDefault(),p.stopPropagation(),t.openMenu(),B(()=>{var a;(a=y(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(R.Last)});break}}function s(p){switch(p.key){case S.Space:p.preventDefault();break}}function m(p){e.disabled||(t.menuState.value===0?(t.closeMenu(),B(()=>{var a;return(a=y(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(p.preventDefault(),t.openMenu(),Qt(()=>{var a;return(a=y(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let v=fe(E(()=>({as:e.as,type:o.type})),t.buttonRef);return()=>{var p;let a={open:t.menuState.value===0},r=e,{id:_}=r,c=T(r,["id"]),h={ref:t.buttonRef,id:_,type:v.value,"aria-haspopup":"menu","aria-controls":(p=y(t.itemsRef))==null?void 0:p.id,"aria-expanded":e.disabled?void 0:t.menuState.value===0,onKeydown:b,onKeyup:s,onClick:m};return O({ourProps:h,theirProps:c,slot:a,attrs:o,slots:l,name:"MenuButton"})}}}),$t=F({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${j()}`}},setup(e,{attrs:o,slots:l,expose:d}){let t=J("MenuItems"),b=C(null);d({el:t.itemsRef,$el:t.itemsRef}),jt({container:E(()=>y(t.itemsRef)),enabled:E(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function s(a){var _;switch(b.value&&clearTimeout(b.value),a.key){case S.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case S.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let c=t.items.value[t.activeItemIndex.value];(_=y(c.dataRef.domRef))==null||_.click()}t.closeMenu(),ve(y(t.buttonRef));break;case S.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(R.Next);case S.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(R.Previous);case S.Home:case S.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(R.First);case S.End:case S.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(R.Last);case S.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),B(()=>{var c;return(c=y(t.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case S.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),B(()=>tt(y(t.buttonRef),a.shiftKey?ue.Previous:ue.Next));break;default:a.key.length===1&&(t.search(a.key),b.value=setTimeout(()=>t.clearSearch(),350));break}}function m(a){switch(a.key){case S.Space:a.preventDefault();break}}let v=me(),p=E(()=>v!==null?(v.value&z.Open)===z.Open:t.menuState.value===0);return()=>{var a,_;let c={open:t.menuState.value===0},x=e,{id:h}=x,r=T(x,["id"]),f={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(_=y(t.buttonRef))==null?void 0:_.id,id:h,onKeydown:s,onKeyup:m,role:"menu",tabIndex:0,ref:t.itemsRef};return O({ourProps:f,theirProps:r,slot:c,attrs:o,slots:l,features:N.RenderStrategy|N.Static,visible:p.value,name:"MenuItems"})}}}),H=F({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${j()}`}},setup(e,{slots:o,attrs:l,expose:d}){let t=J("MenuItem"),b=C(null);d({el:b,$el:b});let s=E(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),m=E(()=>({disabled:e.disabled,textValue:"",domRef:b}));U(()=>{var r,f;let x=(f=(r=y(b))==null?void 0:r.textContent)==null?void 0:f.toLowerCase().trim();x!==void 0&&(m.value.textValue=x)}),U(()=>t.registerItem(e.id,m)),X(()=>t.unregisterItem(e.id)),W(()=>{t.menuState.value===0&&s.value&&t.activationTrigger.value!==0&&B(()=>{var r,f;return(f=(r=y(b))==null?void 0:r.scrollIntoView)==null?void 0:f.call(r,{block:"nearest"})})});function v(r){if(e.disabled)return r.preventDefault();t.closeMenu(),ve(y(t.buttonRef))}function p(){if(e.disabled)return t.goToItem(R.Nothing);t.goToItem(R.Specific,e.id)}let a=Yt();function _(r){a.update(r)}function c(r){a.wasMoved(r)&&(e.disabled||s.value||t.goToItem(R.Specific,e.id,0))}function h(r){a.wasMoved(r)&&(e.disabled||s.value&&t.goToItem(R.Nothing))}return()=>{let{disabled:r}=e,f={active:s.value,disabled:r,close:t.closeMenu},Y=e,{id:x}=Y,I=T(Y,["id"]);return O({ourProps:{id:x,ref:b,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:p,onPointerenter:_,onMouseenter:_,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h},theirProps:Z(Z({},l),I),slot:f,attrs:l,slots:o,name:"MenuItem"})}}});const eo={class:"max-w-7xl mx-auto px-4 xl:px-0"},to={class:"relative flex justify-between h-16"},oo={class:"absolute inset-y-0 left-0 flex items-center md:hidden"},ao=g("span",{class:"sr-only"},"Open main menu",-1),lo={class:"flex-1 flex items-center justify-center md:items-stretch md:justify-start"},no={key:0,class:"zfile-admin-index-version-info text-center"},ro=["innerHTML"],so=["innerHTML"],io=["innerHTML"],uo=g("br",null,null,-1),co=g("br",null,null,-1),po=g("br",null,null,-1),mo=g("img",{class:"block lg:hidden h-8 w-auto",src:Ye,alt:"Workflow"},null,-1),vo=g("img",{class:"hidden lg:block h-8 w-auto",src:Ve,alt:"Workflow"},null,-1),fo={class:"hidden lg:ml-6 md:flex md:space-x-4 justify-center flex-1 lg:flex-none"},go={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},bo=g("span",{class:"sr-only"},"Open user menu",-1),ho=["src"],_o={key:1,class:"h-8 w-8 rounded-full",src:Bt,alt:""},xo={class:"cursor-pointer border-b"},yo={class:"pt-2 pb-4 space-y-1"},wo={class:"p-0 sm:p-10 pb-16 sm:pb-26 bg-gray-100 h-full overflow-y-auto border-t-2"},ko={class:"max-w-7xl mx-auto bg-white shadow h-full sm:h-auto sm:rounded-lg"},Zo={__name:"admin",setup(e){let o=Le(),l=Re();const{siteSetting:d,githubLatestInfo:t,githubLatestLoading:b,logDownload:s,logout:m,rebuildTitle:v}=Kt(o,l);let p=E(()=>l.path);return Ee(()=>l.path,()=>{v()},{immediate:!0}),(a,_)=>{const c=je,h=nt,r=rt,f=Ot,x=Oe,I=se("router-link"),Y=Mt,_e=Dt,xe=wt,ye=bt,G=Be,we=Ke,ke=He,Ie=pt,Se=se("router-view");return L(),P(Te,null,[n(u(Wt),{as:"nav",class:"bg-white shadow"},{default:i(({open:Ce})=>[g("div",eo,[g("div",to,[g("div",oo,[n(u(M),{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},{default:i(()=>[ao,Ce?(L(),ie(u(at),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(L(),ie(u(Ue),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),g("div",lo,[n(r,{placement:"bottom",width:"200",disabled:u(b),trigger:"hover"},{reference:i(()=>{var k,K,te,oe;return[g("div",{onClick:_[0]||(_[0]=Io=>u(A).openPage("/")),class:"cursor-pointer flex-shrink-0 flex items-center"},[mo,vo,n(h,{"is-dot":((K=(k=u(t))==null?void 0:k.data)==null?void 0:K.tag_name)&&u(A).version!==((oe=(te=u(t))==null?void 0:te.data)==null?void 0:oe.tag_name),class:"hidden lg:block text-sm font-bold word ml-1 tracking-wider"},{default:i(()=>[w(Pe(u(A).version),1)]),_:1},8,["is-dot"])])]}),default:i(()=>{var k;return[(k=u(t))!=null&&k.data?(L(),P("div",no,[g("div",{innerHTML:`\u5F53\u524D\u7248\u672C\uFF1Av${u(A).version}`},null,8,ro),g("div",{innerHTML:`\u6700\u65B0\u7248\uFF1Av${u(t).data.tag_name}`},null,8,so),g("div",{innerHTML:`\u53D1\u5E03\u65F6\u95F4: ${u(A).dateFormat(u(t).data.published_at)}`},null,8,io),uo,w(" \u6587\u6863\u5730\u5740\uFF1A "),n(c,{href:"http://docs.zhaojun.im/zfile",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:i(()=>[w("\u70B9\u51FB\u8FDB\u5165 ")]),_:1}),co,w(" \u540E\u7AEF\u6E90\u7801\u5730\u5740\uFF1A "),n(c,{href:"https://github.com/zhaojun1998/zfile",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:i(()=>[w("\u70B9\u51FB\u8FDB\u5165 ")]),_:1}),po,w(" \u524D\u7AEF\u6E90\u7801\u5730\u5740\uFF1A "),n(c,{href:"https://github.com/zhaojun1998/zfile-vue",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:i(()=>[w("\u70B9\u51FB\u8FDB\u5165 ")]),_:1})])):Me("",!0)]}),_:1},8,["disabled"]),g("div",fo,[n(I,{to:"/admin/site-setting",class:D([u(p)==="/admin/site-setting"?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:i(()=>[n(x,{size:"18px"},{default:i(()=>[n(f,{class:"mr-1"})]),_:1}),w(" \u57FA\u672C\u8BBE\u7F6E ")]),_:1},8,["class"]),n(I,{to:"/admin/storage-list",class:D([u(p).startsWith("/admin/storage")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:i(()=>[n(x,{size:"18px"},{default:i(()=>[n(Y,{class:"mr-1"})]),_:1}),w(" \u5B58\u50A8\u6E90\u8BBE\u7F6E ")]),_:1},8,["class"]),n(I,{to:"/admin/view-setting",class:D([u(p)==="/admin/view-setting"?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:i(()=>[n(x,{size:"18px"},{default:i(()=>[n(_e,{class:"mr-1"})]),_:1}),w(" \u663E\u793A\u8BBE\u7F6E ")]),_:1},8,["class"]),n(ke,null,{dropdown:i(()=>[n(we,null,{default:i(()=>[n(G,{icon:u(st)},{default:i(()=>[n(I,{to:"/admin/download-link"},{default:i(()=>[w("\u77ED\u94FE\u7BA1\u7406")]),_:1})]),_:1},8,["icon"]),n(G,{icon:u(Ae)},{default:i(()=>[n(I,{to:"/admin/download-link/log"},{default:i(()=>[w("\u4E0B\u8F7D\u65E5\u5FD7")]),_:1})]),_:1},8,["icon"]),n(G,{icon:u(Fe)},{default:i(()=>[n(I,{to:"/admin/download-link/setting"},{default:i(()=>[w("\u76F4/\u77ED\u94FE\u8BBE\u7F6E")]),_:1})]),_:1},8,["icon"])]),_:1})]),default:i(()=>[n(I,{to:"/admin/download-link",class:D([u(p).includes("/admin/download-link")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:i(()=>[n(x,{size:"18px"},{default:i(()=>[n(xe,{class:"mr-1"})]),_:1}),w(" \u94FE\u63A5\u7BA1\u7406 "),n(x,{class:"el-icon--right"},{default:i(()=>[n(ye)]),_:1})]),_:1},8,["class"])]),_:1}),g("div",{onClick:_[1]||(_[1]=(...k)=>u(s)&&u(s)(...k)),class:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"},[n(x,{size:"18px"},{default:i(()=>[n(Ie,{class:"mr-1"})]),_:1}),w(" \u65E5\u5FD7\u4E0B\u8F7D ")])])]),g("div",go,[n(u(qt),{as:"div",class:"ml-3 relative"},{default:i(()=>[g("div",null,[n(u(Xt),{class:"border-2 bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:i(()=>{var k,K;return[bo,(K=(k=u(d))==null?void 0:k.data)!=null&&K.avatar?(L(),P("img",{key:0,class:"h-8 w-8 rounded-full",src:u(d).data.avatar,alt:""},null,8,ho)):(L(),P("img",_o))]}),_:1})]),n(ze,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:i(()=>[n(u($t),{class:"z-10 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:i(()=>[g("div",xo,[n(u(H),{onClick:_[2]||(_[2]=k=>u(A).openPage("https://docs.zfile.vip"))},{default:i(({active:k})=>[g("div",{class:D([k?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," ZFile Docs ",2)]),_:1}),n(u(H),{onClick:_[3]||(_[3]=k=>u(A).openPage("https://github.com/zhaojun1998/zfile"))},{default:i(({active:k})=>[g("div",{class:D([k?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," ZFile Github ",2)]),_:1})]),n(u(H),null,{default:i(({active:k})=>[n(I,{to:"/admin/security-setting",class:D([k?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:i(()=>[w(" \u5B89\u5168\u8BBE\u7F6E ")]),_:2},1032,["class"])]),_:1}),n(u(H),null,{default:i(({active:k})=>[n(I,{to:"/admin/update-password",class:D([k?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:i(()=>[w(" \u4FEE\u6539\u5BC6\u7801 ")]),_:2},1032,["class"])]),_:1}),n(u(H),{onClick:u(m)},{default:i(({active:k})=>[g("a",{href:"#",class:D([k?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"\u6CE8\u9500",2)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])])]),n(u(Jt),{class:"md:hidden"},{default:i(()=>[g("div",yo,[n(u(M),{class:D([u(p)==="/admin/site-setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/site-setting"},{default:i(()=>[w("\u57FA\u672C\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),n(u(M),{class:D([u(p).startsWith("/admin/storage")?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/storage-list"},{default:i(()=>[w("\u5B58\u50A8\u6E90\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),n(u(M),{class:D([u(p)==="/admin/view-setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/view-setting"},{default:i(()=>[w("\u663E\u793A\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),n(u(M),{class:D([u(p)==="/admin/download-link"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/download-link"},{default:i(()=>[w("\u77ED\u94FE\u7BA1\u7406")]),_:1})]),_:1},8,["class"]),n(u(M),{class:D([u(p)==="/admin/download-link/log"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/download-link/log"},{default:i(()=>[w("\u4E0B\u8F7D\u65E5\u5FD7")]),_:1})]),_:1},8,["class"]),n(u(M),{class:D([u(p)==="/admin/download-link/setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:i(()=>[n(I,{to:"/admin/download-link/setting"},{default:i(()=>[w("\u76F4/\u77ED\u94FE\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),n(u(M),{onClick:u(s),as:"span",class:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"},{default:i(()=>[w(" \u65E5\u5FD7\u4E0B\u8F7D ")]),_:1},8,["onClick"])])]),_:1})]),_:1}),g("div",wo,[g("div",ko,[n(Se,{class:"box animate__animated h-full sm:h-auto overflow-auto animate__fadeIn"})])])],64)}}};export{Zo as default};
